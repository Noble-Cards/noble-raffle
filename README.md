# Noble Raffle

Noble Raffle is a self-contained python program used to randomly pick winners from a pool of addresses.

Each time raffle is announced, a block number is shared.
This number refers to Ethereum block number that will happen in the future. 
When the block is mined, its hash is used to randomly and deterministically generate raffle results.

In [`raffles/`](raffles/) directory you can find all past raffles.

## Verifying a raffle

To verify the raffle results, run `raffle.py --hash $BLOCK_HASH`. It will read ownership snapshot (defaults to `owners.csv`, generated by `gen.py`)
and then output raffle winners.

The source code is heavily documented. We invite you to go through it. It is using standard procedural code so anyone with basic programming skills can understand it. 

> Python is included in macOS and most Linux distribution.
> For Windows, you have to install it separately.
> 
> You can also copy-paste the source code and run it [online][python-online] for free.

## Generating a raffle

To generate a raffle program, run `gen.py`. It will create new directory in `raffles/` with `raffle.py` and ownership snapshot (fetched via Alchemy API.)

Before running `gen.py`, set `ALCHEMY_API_BASE_URL` environment variable in your shell
or put it in `.env` file inside current directory.

By default `gen.py` uses latest finalized block for a snapshot. To use specific block,
you can pass block number as an argument like so: `python3 gen.py 16841608`

[python-online]: https://www.tutorialspoint.com/execute_python_online.php



